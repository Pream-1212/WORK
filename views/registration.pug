meta(charset="UTF-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title MWF - Sign Up
link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", rel="stylesheet")
link(rel="stylesheet", href="/css/registration.css")

body
  .container.mt-5.mb-5
    .signup-card.mx-auto.p-4.shadow(style="max-width:600px;")
      h2.text-center.mb-4 Create Account
      form(action='/registration', method='post')
        // Fullname
        .mb-3
          label.form-label(for="fullname") Fullname
          input.form-control#fullname(type="text", name="name", placeholder="Enter your full name", required)

        // Address: Country, City, Village
        .mb-3
          label.form-label(for="country") Country
          select.form-select#country(name="country", required)
            option(value="") Select your country
            option(value="Uganda") Uganda
            option(value="Kenya") Kenya
            option(value="Tanzania") Tanzania
            option(value="Rwanda") Rwanda
            option(value="Burundi")

        .mb-3
          label.form-label(for="city") City/Region
          input.form-control#city(type="text", name="city", placeholder="Enter your city or region")

        .mb-3
          label.form-label(for="village") Village
          input.form-control#village(type="text", name="village", placeholder="Enter your village")

        // National ID
        .mb-3
          label.form-label(for="nin") National Identification Number (NIN)
          input.form-control#nin(type="text", name="nin", placeholder="Enter your NIN", required)

        // Gender
        .mb-3
          label.form-label Gender
          .form-check
            input.form-check-input#female(type="radio", name="gender", value="female")
            label.form-check-label(for="female") Female
          .form-check
            input.form-check-input#male(type="radio", name="gender", value="male")
            label.form-check-label(for="male") Male

        // Email
        .mb-3
          label.form-label(for="email") Email address
          input.form-control#email(type="email", name="email", aria-describedby="emailHelp")
          #emailHelp.form-text We'll never share your email with anyone else.

        // Password
        .mb-3
          label.form-label(for="password") Password
          input.form-control#password(type="password", name="password", placeholder="Enter your password", required)

        // Phone
        .mb-3
          label.form-label(for="phone") Phone Number
          input.form-control#phone(type="tel", name="tel", placeholder="Enter your phone number", required)

        // Confirm Password
        .mb-3
          label.form-label(for="confirmPassword") Confirm Password
          input.form-control#confirmPassword(type="password", name="confirmPassword", placeholder="Confirm password", required)

        // Show Password
        .form-check.mb-3
          input.form-check-input#showPassword(type="checkbox", name="showPassword")
          label.form-check-label(for="showPassword") Show Password

        // Role Selection
        .mb-3
          label.form-label(for="role") Select Role
          select.form-select#role(name="role", required)
            option(value="") -- Choose your role --
            option(value="manager") Manager
            option(value="attendant") Attendant

        // Buttons side by side
        .d-flex.justify-content-between
          button.btn.btn-primary(type="submit") Submit
          button.btn.btn-danger(type="button", onclick="window.location.href='/'") Cancel

script(src="/js/registration.js")
script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
script.
  const showPassword = document.getElementById('showPassword');
  const password = document.getElementById('password');
  const confirmPassword = document.getElementById('confirmPassword');

  if (showPassword) {
    showPassword.addEventListener('change', () => {
      const type = showPassword.checked ? 'text' : 'password';
      if (password) password.type = type;
      if (confirmPassword) confirmPassword.type = type;
    });
  }
